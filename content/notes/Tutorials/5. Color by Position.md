---
title: "5. Color by Position"
---

‚≠êÔ∏è In this tutorial we will learn how to create visuals by setting individual pixel colors~

## Hello Dot

The `pset( x, y, c)`  function takes in coordinates `x`  & `y` and what color `c`  the single pixel there should be set to.

For example we can set the middle most pixel to red:

```lua
function _init()
  -- clear screen to white (7)
  cls(7)

  -- set center pixel to red (8)
  pset(64,64,8)
end
```

![[notes/images/pset_dot.png]]

What if we go over every pixel in a line and set its color based on the `x` value.

Pico-8 only has colors 0-15 but if you pass a higher number it loops back. So 16 will be the color 0, 17 will be the color 1 and so on...

```lua
function _init()
  cls()
  
  for x=0,127 do
    c = x
    pset(x,64,c)
  end
end
```

![[notes/images/pset_x.png]]

## Hello Rainbow

Ok let's do something more pretty!

If we divide x by 8 we will get 8px strips of each color.

Here is the math in a table if we loop over all the x values from 0 to 127 and set `c=x/8`

| x     | c       | color number | color       |
|-------|---------|--------------|-------------|
|   0   |   1/8   | 0.12 ~ 0     |    black    |
|   1   |   2/8   | 0.25 ~ 0     |    black    |
|  *2-7*  |   ...   | .... ~ 0     |    black    |
|   8   |   8/8   | 1.00 ~ 1     |  dark-blue  |
|   9   |   9/8   | 1.12 ~ 1     |  dark-blue  |
| *9-126* |   ...   | ....         |     ...     |
|  127  |  127/8  | 15.87 ~ 15   | light-peach |

<br>

``` lua
function _init()
  cls()

  for x=0,127 do
    for y=0,127 do
      -- divide x by 8 
      -- to get 8px strips
      c = x / 8
      pset(x,y,c)
    end
  end
end
```

![[notes/images/pset_rainbow.png]]

We can get a diagonal rainbow by adding `y` to the equation:

`c = (x + y) / 16`

![[notes/images/pset_x_plus_y.png]]

### Exercise üçì

You can get some interesting patterns by using x and y in different ways to set the color.

Try multiplying x by a value:

`c = (3*x + y) / 16`

or

`c = (x*x + y*y) / 16`

## Dithering

A cool effect that's used a lot is setting random pixels to black instead of clearing the screen.

```lua
for i=0,1600 do
  x = rnd(128)
  y = rnd(128)
  pset(x,y,0)
end
```

If we take our spinning circle example from  [[notes/Tutorials/4. Animating with Sin & Cos]] and do this, we can see the effect.

```lua
function _init()
  cls()
end

function _draw()
  -- clear screen by setting random pixels to black
  for i=0,1600 do
    x = rnd(128)
    y = rnd(128)
    pset(x,y,0)
  end

  -- get time value
  -- divide time by 2 to slow it down
  time = t() / 4

  -- change sin range to 0-1
  s = (sin(time)+1)/2

  -- size and color sin
  size = 8
  c = 12

  -- rotate
  center = 64
  r = 40

  x = center + r*cos(time)
  y = center + r*sin(time)

  -- draw circle
  circfill(x, y, size, c)
end
```

![[notes/images/pset_dither.gif]]

What if we set the pixel to a random color between 0 and 2 instead of black?

`pset(x,y,rnd(3))`

![[notes/images/pset_dither_rnd.gif]]

### Exercise üçì

To get this effect you need to have something on the screen moving. Start by creating an animated visual using `sin` or other methods and then add the dither clear code to get the dithering!

Try to play around with different colors too~

> TODO add trasevol example

## Burning

> TODO